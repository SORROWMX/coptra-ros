[Unit]
Description=Coptra ROS package
Requires=roscore.service

[Service]
User=orangepi
ExecStart=/bin/bash -c ". /home/orangepi/catkin_ws/devel/setup.sh; \
                      ROS_HOSTNAME=`hostname`.local exec stdbuf -o L roslaunch coptra coptra.launch --wait --screen --skip-log-check \
                      2> >(tee /tmp/coptra.err)"

ExecStartPre=+rm /var/log/coptra.log
StandardOutput=file:/var/log/coptra.log
StandardError=file:/var/log/coptra.log

[Install]
WantedBy=multi-user.target
